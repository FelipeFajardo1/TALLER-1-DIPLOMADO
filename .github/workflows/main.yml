name: CI/CD - Taller Diplomado

on:
  push:
    branches:
      - main

jobs:
  # -----------------------------
  # üîπ INTEGRACI√ìN CONTINUA (CI)
  # -----------------------------
  test:
    name: Verificaci√≥n de archivos requeridos
    runs-on: ubuntu-latest

    steps:
      - name: Clonar el repositorio
        uses: actions/checkout@v3

      - name: Verificar existencia de archivos principales
        run: |
          echo "Verificando que existan home.html y styles.css..."
          if [ ! -f "home.html" ]; then
            echo "‚ùå Error: No se encontr√≥ home.html"
            exit 1
          fi
          if [ ! -f "styles.css" ]; then
            echo "‚ùå Error: No se encontr√≥ styles.css"
            exit 1
          fi
          echo "‚úÖ Archivos verificados correctamente."

  # ---------------------------------------
  # üîπ DESPLIEGUE CONTINUO (CD) - Simulado
  # ---------------------------------------
  deploy:
    name: Simulaci√≥n de Despliegue
    runs-on: ubuntu-latest
    needs: test  # Solo se ejecuta si el job anterior pasa correctamente

    steps:
      - name: Preparar artefactos
        run: |
          echo "Compilando activos (simulaci√≥n)..."
          sleep 2
          echo "‚úÖ Artefactos listos para el despliegue en el entorno de Staging."
